================================================================================
搭 BACKLOG DE ATIVIDADES - SISTEMA DE MONITORAMENTO (SENIOR REVIEW)
================================================================================

Fala Jﾃｺnior, analisei o estado atual da nossa aplicaﾃｧﾃ｣o e identifiquei dois 
pontos crﾃｭticos que precisamos atacar para garantir a escalabilidade do sistema. 
Atualmente, estamos carregando tudo de uma vez, o que vai "matar" o navegador do 
usuﾃ｡rio quando o CSV tiver milhares de linhas.

Abaixo, listei os desafios. Foco na modulaﾃｧﾃ｣o e performance. Qualquer dﾃｺvida 
me chama no Slack.

--------------------------------------------------------------------------------
噫 TAREFA 1: IMPLEMENTAﾃﾃグ DE CARREGAMENTO SOB DEMANDA (PAGINAﾃﾃグ/LIMIT)
--------------------------------------------------------------------------------
PROBLEMA: A rota principal renderiza todos os livros de uma vez. Isso gera um 
DOM pesado e lentidﾃ｣o no carregamento inicial.

OBJETIVO: Limitar a exibiﾃｧﾃ｣o inicial a 10 livros e adicionar um botﾃ｣o 
"Carregar Mais" no final da lista.

ONDE MEXER:
1. Arquivo: `relatorio/app/database.py`
   - Funﾃｧﾃ｣o: `carregar_livros_do_banco()`
   - Aﾃｧﾃ｣o: Adicionar parﾃ｢metros `limit` e `offset` ﾃ funﾃｧﾃ｣o e injetar na 
     query SQL (Ex: LIMIT 10 OFFSET X).

2. Arquivo: `relatorio/app/routes/web_routes.py`
   - Funﾃｧﾃ｣o: `pagina_inicial()`
   - Aﾃｧﾃ｣o: Capturar um parﾃ｢metro `page` via query string (request.args) para 
     controlar o deslocamento (offset) dos dados.

3. Arquivo: `relatorio/templates/index.html`
   - Aﾃｧﾃ｣o: Criar o botﾃ｣o "Ver Mais" e uma funﾃｧﾃ｣o JavaScript (Fetch API) para 
     buscar os prﾃｳximos 10 registros e dar um "append" no grid atual sem 
     recarregar a pﾃ｡gina inteira.

--------------------------------------------------------------------------------
沈 TAREFA 2: ABSTRAﾃﾃグ DE INGESTﾃグ COM STORED PROCEDURES (SQL)
--------------------------------------------------------------------------------
PROBLEMA: O cﾃｳdigo Python estﾃ｡ "sujo" com muitos INSERTs manuais e lﾃｳgica de 
banco (ON DUPLICATE KEY). Isso deve ser responsabilidade do banco de dados.

OBJETIVO: Criar uma Stored Procedure (PRC) no MySQL para gerenciar a inserﾃｧﾃ｣o 
dos dados e apenas chamﾃ｡-la via Python.

ONDE MEXER:
1. Banco de Dados (MySQL):
   - Aﾃｧﾃ｣o: Criar uma procedure (ex: `sp_importar_registro_csv`) que receba 
     todos os campos de uma linha e execute os 3 inserts (Autor, Livro, Vendas) 
     dentro de uma transaﾃｧﾃ｣o.

2. Arquivo: `relatorio/app/database.py`
   - Funﾃｧﾃ｣o: `importar_linha_csv()`
   - Aﾃｧﾃ｣o: Remover os blocos de `cursor.execute("INSERT...")` e substituir 
     pela chamada da procedure: `cursor.callproc('sp_importar_registro_csv', [args...])`.

--------------------------------------------------------------------------------
識 CRITﾃ嘘IOS DE ACEITE:
- O Dashboard deve abrir em menos de 1 segundo.
- O cﾃｳdigo Python nﾃ｣o deve conter lﾃｳgica complexa de SQL (CRUD simples).
- Ao clicar em "Carregar Mais", os novos itens devem aparecer suavemente.

Bom trabalho, vamos pra cima! 噫
================================================================================
